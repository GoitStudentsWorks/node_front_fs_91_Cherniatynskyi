(self.webpackChunktask_pro=self.webpackChunktask_pro||[]).push([[141],{5141:(e,a,c)=>{"use strict";c.r(a),c.d(a,{default:()=>$});const r="ScreensPage_screensWrap__KpiXB";var s=c(3216),t=c(3248),i=c(3003),d=c(5043),n=c(3870);const o="HeaderDashboard_headDashWrap__-gjPa",l="HeaderDashboard_dashboardName__GHex9",p="Filters_menuFilterTheme__ctfu3",u="Filters_filterButton__ZOUmh",m="Filters_filterIcon__yhbRW",_="Filters_filterIndicator__3qzc4";var x=c(1581);const h={formWrap:"FiltersForm_formWrap__p4sxw",menuListHidden:"FiltersForm_menuListHidden__VzisA",formTitle:"FiltersForm_formTitle__c6RsE",filterLine:"FiltersForm_filterLine__aj1e8",iconsForm:"FiltersForm_iconsForm__7D3Wa",labelTitle:"FiltersForm_labelTitle__lsSuj",iconsTitle:"FiltersForm_iconsTitle__BdgCK",iconsAll:"FiltersForm_iconsAll__bo9EB",iconsWrap:"FiltersForm_iconsWrap__ksC0g",container:"FiltersForm_container__Wsogl",iconName:"FiltersForm_iconName__8oXr0",checkmark:"FiltersForm_checkmark__oO2Ys"};var j=c(3892),g=c(8779),f=c(8877),b=c(4117),N=c(579);const v=e=>{let{isOpen:a}=e;const c=(0,i.wA)(),{t:r}=(0,b.Bd)();return(0,N.jsxs)("div",{"data-popup":"menu",className:"".concat(h.formWrap," ").concat(!a&&h.menuListHidden),children:[(0,N.jsx)("h2",{className:h.formTitle,children:r("filter")}),(0,N.jsx)("div",{className:h.filterLine}),(0,N.jsx)(j.l1,{initialValues:{priority:"without"},children:(0,N.jsx)("form",{className:h.from,children:(0,N.jsxs)("fieldset",{className:h.iconsForm,children:[(0,N.jsxs)("div",{className:h.labelTitle,children:[(0,N.jsx)("legend",{className:h.iconsTitle,children:r("form.lbl-color")}),(0,N.jsx)("button",{onClick:e=>(e=>{e.preventDefault(),c((0,f.Se)()),document.querySelectorAll('input[type="radio"]').forEach((e=>e.checked=!1))})(e),className:h.iconsAll,children:r("form.all-btn")})]}),(0,N.jsx)("div",{className:h.iconsWrap,children:g.G.map((e=>(0,N.jsxs)("label",{className:h.container,children:[(0,N.jsx)("input",{type:"radio",name:"icon",value:e.title,required:!0,onChange:e=>(e=>{c((0,f.ul)(e.target.value))})(e)}),(0,N.jsx)("p",{className:h.iconName,children:r("main.priorities.".concat(e.title))}),(0,N.jsx)("span",{style:{backgroundColor:"".concat(e.color)},className:"".concat(h.checkmark)})]},e.title)))})]})})})]})},C=()=>{const[e,a]=(0,d.useState)(!1),c=(0,i.d4)((e=>e.filter.filterValue)),r=g.G.find((e=>e.title===c)),{t:s}=(0,b.Bd)();(0,d.useEffect)((()=>(e&&document.body.addEventListener("click",t),()=>{document.body.removeEventListener("click",t)})));const t=e=>{"popupFiltersBtn"!==e.target.dataset.popup&&"menu"!==e.target.dataset.popup&&"el"!==e.target.popup&&a((e=>!e))};return(0,N.jsxs)("div",{"data-popup":"popupFiltersBtn",onClick:e=>(e=>{"menu"!==e.target.popup&&"el"!==e.target.popup&&a((e=>!e))})(e),className:p,children:[r&&(0,N.jsx)("div",{style:{backgroundColor:"".concat(r.color)},className:_}),(0,N.jsxs)("button",{"data-popup":"popupFiltersBtn",className:u,children:[(0,N.jsx)("svg",{"data-popup":"popupFiltersBtn",className:m,children:(0,N.jsx)("use",{"data-popup":"popupFiltersBtn",href:"".concat(x.A,"#icon-filter")})}),s("filter")]}),(0,N.jsx)(v,{onSelectClose:()=>{a((e=>!e))},isOpen:e})]})},I=e=>{let{board:a}=e;return(0,N.jsxs)("div",{className:o,children:[(0,N.jsx)("h2",{className:l,children:null===a||void 0===a?void 0:a.name}),(0,N.jsx)(C,{})]})},F="MainDashboard_boardWrap__2u1Ba",k="MainDashboard_columnsList__iP56w",y="MainDashboard_addColumnBtn__6+fG2",D="MainDashboard_addColumnWrap__j-UdJ",B="MainDashboard_addColumnIcon__qVRIe",T="MainDashboard_addColumnTitle__VFj8z",W="MainDashboard_columnList__xc8r0",A="Column_columnWrap__G3hGv",M="Column_columnTitleWrap__r2jmr",L="Column_columnTitle__JxUiI",w="Column_columnBtnWrap__t2MEK",S="Column_columnButton__qAW6n",E="Column_columnIcon__6CN5T",P="Column_columnAddButton__0dcN0",H="Column_addColumnIcon__txMZ3",V="Column_addColumnTitle__mJxvp";var O=c(8532),q=c(7416);const G=e=>{let{children:a,column:c}=e;const r=(0,i.wA)(),{t:s}=(0,b.Bd)();return(0,N.jsx)("li",{className:A,children:(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:M,children:[(0,N.jsx)("h2",{className:L,children:c.title}),(0,N.jsxs)("div",{className:w,children:[(0,N.jsx)("button",{className:S,children:(0,N.jsx)("svg",{onClick:()=>{r((0,O.qf)({content:"edit-column",id:"".concat(c._id)}))},className:E,children:(0,N.jsx)("use",{href:"".concat(x.A,"#icon-pencil")})})}),(0,N.jsx)("button",{onClick:()=>{r((0,O.qf)({content:"warning-dell",id:c}))},className:S,children:(0,N.jsx)("svg",{className:E,children:(0,N.jsx)("use",{href:"".concat(x.A,"#icon-trash")})})})]})]}),a,(0,N.jsxs)("button",{onClick:()=>{r((0,O.qf)({content:"add-card"})),r((0,q.LM)(c._id))},className:P,children:[(0,N.jsx)("svg",{className:H,children:(0,N.jsx)("use",{href:"".concat(x.A,"#icon-plus")})}),(0,N.jsx)("p",{className:V,children:s("main.add-card")})]})]})})},U={cardHeight:"Card_cardHeight__tSm4h",cardContainer:"Card_cardContainer__aSrje",cardWrapper:"Card_cardWrapper__TvahP",cardTitle:"Card_cardTitle__4G9aB",cardDiscription:"Card_cardDiscription__y7esn",cardFooterWrapper:"Card_cardFooterWrapper__lWLCd",cardFooter:"Card_cardFooter__bN4q3",cardFooterTitle:"Card_cardFooterTitle__EwDak",cardPriorityInfo:"Card_cardPriorityInfo__OS-yk",cardPriorityCircle:"Card_cardPriorityCircle__Ah0Z+",cardPriorityName:"Card_cardPriorityName__PBWEl",cardDeadlineDate:"Card_cardDeadlineDate__72wFp",cardIconsList:"Card_cardIconsList__ZGvEC",cardIconItemBell:"Card_cardIconItemBell__3gB-r",cardSvg:"Card_cardSvg__iWUIX",cardIconButton:"Card_cardIconButton__s4c7h",cardIconItem:"Card_cardIconItem__8AccS",popupMenuList:"Card_popupMenuList__s6SOr",popupHidden:"Card_popupHidden__AU9tj",popupMenuItem:"Card_popupMenuItem__4xTyw",popupMenuDef:"Card_popupMenuDef__TjaKT",selectCardSvg:"Card_selectCardSvg__wDXPX"},R=e=>{let{isOpen:a,handleMove:c,filterVal:r}=e;const s=(0,i.d4)((e=>e.columns.columns));return(0,N.jsx)(N.Fragment,{children:s.length>1?(0,N.jsx)("ul",{style:s.length<3?{marginTop:"30px"}:{},"data-popup":"changeMenu",className:"".concat(U.popupMenuList," ").concat(!a&&U.popupHidden),children:s.filter((e=>e._id!==r)).map((e=>(0,N.jsxs)("li",{onClick:()=>c(e._id),className:"".concat(U.popupMenuItem),children:[(0,N.jsx)("span",{className:U.popupMenuText,children:e.title}),(0,N.jsx)("svg",{className:U.selectCardSvg,children:(0,N.jsx)("use",{href:"".concat(x.A,"#icon-arrow-in-circle")})})]},e._id)))}):(0,N.jsx)("ul",{style:s.length<3?{marginTop:"30px"}:{},className:"".concat(U.popupMenuList," ").concat(!a&&U.popupHidden),children:(0,N.jsx)("li",{className:U.popupMenuDef,children:(0,N.jsx)("span",{children:"No other columns"})})})})};var X=c(4045);const z=e=>{let{card:a}=e;const[c,r]=(0,d.useState)(!1),s=(0,i.d4)((e=>e.cards.cards)),t=(0,i.wA)();(0,d.useEffect)((()=>(c&&document.body.addEventListener("click",n),()=>{document.body.removeEventListener("click",n)})));const n=e=>{"popupChange"!==e.target.dataset.popup&&r((e=>!e))};return(0,N.jsxs)("button",{"data-popup":"popupChange",onClick:e=>{r((e=>!e))},type:"button",className:U.cardIconButton,children:[(0,N.jsx)("svg",{"data-popup":"popupChange",className:U.cardSvg,children:(0,N.jsx)("use",{"data-popup":"popupChange",href:"".concat(x.A,"#icon-arrow-in-circle")})}),(0,N.jsx)(R,{filterVal:a.columnId,isOpen:c,handleMove:e=>{const c=s.filter((a=>a.columnId===e)).length;t((0,X.hV)({id:a._id,columnId:e,index:c}));s.filter((e=>e.columnId===a.columnId)).forEach((e=>{e.index<a.index||e._id===a._id||t((0,X.hV)({id:e._id,columnId:e.columnId,index:e.index-1}))}))}})]})};var J=c(1855);const K=e=>{let{card:a}=e;const c=(0,i.wA)(),{t:r}=(0,b.Bd)(),s=g.G.find((e=>e.title===a.priority));let t=new Date,d=new Date(a.deadline),n=d-t;const o=()=>{c((0,O.qf)({content:"warning-dell",id:a}))};return(0,N.jsx)(J.sx,{draggableId:a._id,index:a.index,children:(e,t)=>(0,N.jsx)("li",{className:U.cardHeight,ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,"data-dragging":t.isDragging,children:(0,N.jsx)("div",{style:{backgroundColor:"".concat(s.color)},className:U.cardWrapper,children:(0,N.jsxs)("div",{className:U.cardContainer,children:[(0,N.jsx)("h4",{className:U.cardTitle,children:a.title}),(0,N.jsx)("p",{className:U.cardDiscription,children:a.description}),(0,N.jsx)("div",{className:U.cardFooterWrapper,children:(0,N.jsxs)("div",{className:U.cardFooter,children:[(0,N.jsxs)("div",{className:U.cardPriority,children:[(0,N.jsx)("h5",{className:U.cardFooterTitle,children:r("main.card-priority")}),(0,N.jsxs)("div",{className:U.cardPriorityInfo,children:[(0,N.jsx)("div",{style:{backgroundColor:"".concat(s.color)},className:"".concat(U.cardPriorityCircle)}),(0,N.jsx)("p",{className:U.cardPriorityName,children:r("main.priorities.".concat(a.priority.split(" ")[0]))})]})]}),(0,N.jsxs)("div",{className:U.cardDeadline,children:[(0,N.jsx)("h5",{className:U.cardFooterTitle,children:r("main.card-deadline")}),(0,N.jsx)("p",{className:U.cardDeadlineDate,children:d.toLocaleDateString("en-GB")}),(0,N.jsx)("p",{className:U.cardDeadlineDate})]}),(0,N.jsxs)("ul",{className:U.cardIconsList,children:[n<1728e5&&(0,N.jsx)("li",{className:U.cardIconItemBell,children:(0,N.jsx)("button",{type:"button",className:U.cardIconButton,children:(0,N.jsx)("svg",{className:U.cardSvg,children:(0,N.jsx)("use",{href:"".concat(x.A,"#icon-bell")})})})}),(0,N.jsx)("li",{className:U.cardIconItem,children:(0,N.jsx)(z,{card:a})}),(0,N.jsx)("li",{className:U.cardIconItem,children:(0,N.jsx)("button",{onClick:e=>{c((0,O.qf)({content:"edit-card",id:"".concat(a._id)}))},type:"button",className:U.cardIconButton,children:(0,N.jsx)("svg",{className:U.cardSvg,children:(0,N.jsx)("use",{href:"".concat(x.A,"#icon-pencil")})})})}),(0,N.jsx)("li",{className:U.cardIconItem,children:(0,N.jsx)("button",{onClick:o,type:"button",className:U.cardIconButton,children:(0,N.jsx)("svg",{className:U.cardSvg,children:(0,N.jsx)("use",{href:"".concat(x.A,"#icon-trash")})})})})]})]})})]})})})},a._id)};var Z=c(8083),Y=c(826);const Q=e=>{let{board:a}=e;const c=(0,i.wA)(),r=(0,i.d4)((e=>e.columns.columns)),s=(0,i.d4)((e=>e.cards.cards)),t=(0,i.d4)((e=>e.filter.filterValue)),[n]=(0,Z.Q)(),{t:o}=(0,b.Bd)();(0,d.useEffect)((()=>{a&&(c((0,Y.GH)(a._id)),c((0,X.Eg)(a._id)))}),[c,a]);return(0,N.jsx)("div",{className:F,children:(0,N.jsx)(J.JY,{onDragEnd:e=>{const{draggableId:a,destination:r,source:t}=e;if(!r)return;if(r.droppableId===t.droppableId&r.index===t.index)return;if(r.droppableId===t.droppableId){c((0,X.hV)({id:a,columnId:r.droppableId,index:r.index}));const e=s.filter((e=>e.columnId===t.droppableId)).find((e=>e.index===r.index));return void c((0,X.hV)({id:e._id,columnId:r.droppableId,index:t.index}))}c((0,X.hV)({id:a,columnId:r.droppableId,index:r.index}));const i=s.filter((e=>e.columnId===t.droppableId)),d=s.filter((e=>e.columnId===r.droppableId));i.forEach((e=>{e.index<t.index||e._id===a||c((0,X.hV)({id:e._id,columnId:e.columnId,index:e.index-1}))})),d.forEach((e=>{e.index<r.index||c((0,X.hV)({id:e._id,columnId:e.columnId,index:e.index+1}))}))},children:(0,N.jsxs)("ul",{className:k,ref:n,children:[r&&r.map((e=>(0,N.jsx)(G,{column:e,children:(0,N.jsx)(J.gL,{droppableId:e._id,children:(a,c)=>(0,N.jsxs)("ul",{className:W,ref:a.innerRef,...a.droppableProps,"data-dragover":c.isDraggingOver,children:[s&&s.filter((a=>a.columnId===e._id&&(!t||a.priority===t))).sort((function(e,a){return e.index-a.index})).map((e=>(0,N.jsx)(K,{card:e},e._id))),a.placeholder]})})},e._id))),(0,N.jsx)("button",{onClick:()=>{c((0,O.qf)({content:"add-column"}))},className:y,children:(0,N.jsxs)("div",{className:D,children:[(0,N.jsx)("svg",{className:B,children:(0,N.jsx)("use",{href:"".concat(x.A,"#icon-plus")})}),(0,N.jsx)("p",{className:T,children:o("main.add-column")})]})})]})})})},$=()=>{var e;const{boardId:a}=(0,s.g)(),o=(0,i.d4)(t.gp).find((e=>e._id===a)),l=c(6917)("./".concat(null!==(e=null===o||void 0===o?void 0:o.background)&&void 0!==e?e:"2","@2x.jpg")),p=(0,i.wA)();return(0,d.useEffect)((()=>{p((0,n.lW)(a))})),(0,N.jsxs)("div",{style:"1"!==(null===o||void 0===o?void 0:o.background)?{backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(".concat(l,")"),backgroundPosition:"center",backgroundSize:"cover"}:{},className:r,children:[(0,N.jsx)(I,{board:o}),(0,N.jsx)(Q,{board:o})]})}},3248:(e,a,c)=>{"use strict";c.d(a,{gp:()=>r});const r=e=>e.boards.boards},8779:(e,a,c)=>{"use strict";c.d(a,{G:()=>r});const r=[{title:"Without priority",color:"#595959"},{title:"Low",color:"#8fa1d0"},{title:"Medium",color:"#e09cb5"},{title:"High",color:"#bedbb0"}]},6917:(e,a,c)=>{var r={"./10@2x.jpg":1095,"./11@2x.jpg":4848,"./12@2x.jpg":25,"./13@2x.jpg":9898,"./14@2x.jpg":3843,"./15@2x.jpg":2652,"./16@2x.jpg":2773,"./1@2x.jpg":1763,"./2@2x.jpg":8374,"./3@2x.jpg":693,"./4@2x.jpg":2768,"./5@2x.jpg":9015,"./6@2x.jpg":7818,"./7@2x.jpg":7945,"./8@2x.jpg":6900,"./9@2x.jpg":3867};function s(e){var a=t(e);return c(a)}function t(e){if(!c.o(r,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=t,e.exports=s,s.id=6917},1095:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/10@2x.051f2acc330a64de2392.jpg"},4848:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/11@2x.0efc9e9e48777695054d.jpg"},25:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/12@2x.9c152332a1a4a74e7191.jpg"},9898:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/13@2x.c91fa25e0a83309c78c0.jpg"},3843:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/14@2x.e144e2c72bafbc7f885d.jpg"},2652:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/15@2x.3edd4b954bedcdd4dca0.jpg"},2773:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/16@2x.63127b4620e3ba16cfcd.jpg"},1763:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/1@2x.3d2ac168453cb9ef70bc.jpg"},8374:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/2@2x.88a0d8131159a38dc663.jpg"},693:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/3@2x.d735f352a14969b94e48.jpg"},2768:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/4@2x.e612c8955e3bfedd4244.jpg"},9015:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/5@2x.12b1caceae8f4d58c031.jpg"},7818:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/6@2x.e321c6117da175cac9f5.jpg"},7945:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/7@2x.11b7fa57cce017900d7a.jpg"},6900:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/8@2x.c4d89cae165ea7792449.jpg"},3867:(e,a,c)=>{"use strict";e.exports=c.p+"static/media/9@2x.78fba020aff592083f8b.jpg"}}]);
//# sourceMappingURL=141.5dc90b9a.chunk.js.map